<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Playing videos with Canvas</title>
    </head>

    <body>
        <video id="v" controls loop src="./ThreeKingdomsEndTheme.mp4"></video>

        <canvas id="c"></canvas>

        <script type="text/javascript">
            var v = document.querySelector("#v");

            var canvas = document.querySelector("#c");
            var ctx = canvas.getContext("2d");

            v.addEventListener('loadedmetadata', function () {
                canvas.width = this.videoWidth;
                canvas.height = this.videoHeight;
            });

            var draw = function () {
                canvas.getContext("2d").drawImage(v, 0, 0);
            }

            v.addEventListener('play', function () {
                if (v.paused || v.ended) return;
                draw();
            });

        </script>
    </body>

</html>